(function(t){function a(a){for(var i,s,o=a[0],l=a[1],c=a[2],h=0,p=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(a);while(p.length)p.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],i=!0,o=1;o<e.length;o++){var l=e[o];0!==r[l]&&(i=!1)}i&&(n.splice(a--,1),t=s(s.s=e[0]))}return t}var i={},r={app:0},n=[];function s(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)s.d(e,i,function(a){return t[a]}.bind(null,i));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"075d":function(t,a,e){"use strict";var i=e("16b3"),r=e.n(i);r.a},"07c1":function(t,a,e){},"16b3":function(t,a,e){},"35de":function(t,a,e){},"51b1":function(t,a,e){"use strict";var i=e("35de"),r=e.n(i);r.a},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-app-bar",{attrs:{app:"",light:"",color:"white"}},[e("div",{staticClass:"d-flex align-center"},[e("v-icon",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",width:"40"}},[t._v(" mdi-chart-timeline-variant ")])],1),e("v-toolbar-title",{staticClass:"title shrink mt-1 hidden-sm-and-down"},[t._v(" Dynamic Models ")]),e("v-spacer"),e("v-btn",{attrs:{to:"/",text:"",router:""}},[t._v("Home")]),e("v-btn",{attrs:{to:"/ecology",text:"",router:""}},[t._v("Ecology")]),e("v-btn",{attrs:{to:"/state",text:"",router:""}},[t._v("Demographic")]),e("v-btn",{attrs:{to:"/epi",text:"",router:""}},[t._v("Epidemiology")]),e("v-btn",{attrs:{to:"/econ",text:"",router:""}},[t._v("Economics")]),e("v-btn",{attrs:{to:"/property",text:"",router:""}},[t._v("Property")])],1),e("v-content",[e("router-view")],1)],1)},n=[],s={name:"App",data:function(){return{}}},o=s,l=e("2877"),c=e("6544"),u=e.n(c),h=e("7496"),p=e("40dc"),d=e("8336"),m=e("a75b"),v=e("132d"),f=e("2fa4"),y=e("2a7f"),b=Object(l["a"])(o,r,n,!1,null,null,null),g=b.exports;u()(b,{VApp:h["a"],VAppBar:p["a"],VBtn:d["a"],VContent:m["a"],VIcon:v["a"],VSpacer:f["a"],VToolbarTitle:y["a"]});var x=e("8c4f"),w=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0 pt-1",attrs:{fluid:""}},[e("v-layout",[e("v-flex",{staticClass:"pa-3 pt-5",attrs:{xs12:"",sm12:"",md6:"","offset-md3":"",lg6:"","offset-lg3":""}},[e("p",{staticClass:"mt-5 display-3"},[t._v(" Dynamic Models ")]),e("div",{staticClass:"mt-5"}),e("p",[t._v(" This website demonstrates the visualization and calculation of compartmental models in Javascript. All modelling is directly calculated in the web-browser ")])])],1)],1)},k=[],V={name:"Home"},R=V,C=e("a523"),P=e("0e8f"),$=e("a722"),O=Object(l["a"])(R,w,k,!1,null,null,null),F=O.exports;u()(O,{VContainer:C["a"],VFlex:P["a"],VLayout:$["a"]});var j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0 pt-1",attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs4:"",md4:"",lg3:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-text",[e("sliders",{attrs:{sliders:t.sliders,callback:t.changeGraph}})],1)],1)],1),e("v-flex",{attrs:{xs8:"",md8:"",lg9:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-title",{staticClass:"display-2 mt-5"},[e("p",{staticClass:"mt-5"}),t._v(" "+t._s(t.title)+" ")]),e("v-card-text",[e("div",{attrs:{id:"property-charts"}})])],1)],1)],1)],1)},S=[],I=e("b85c"),A=(e("c975"),e("d81d"),e("d3b7"),e("ddb0"),e("d4ec")),M=e("bee2"),G=e("1157"),T=e.n(G),_=e("30ef"),D=e.n(_),E=e("2ef0"),N=e.n(E),H=e("d4cd")(),L=e("a68e");function X(t,a,e){return{type:"line",data:{datasets:[]},options:{title:{display:!0,text:t},legend:{display:!0,position:"right"},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{display:!0,type:"linear",position:"bottom",scaleLabel:{display:!0,labelString:a},ticks:{}}],yAxes:[{display:!0,type:"linear",scaleLabel:{display:!0,labelString:e}}]}}}}H.use(L);var z=["#4ABDAC","#FC4A1A","#F78733","#037584","#007849","#FAA43A","#60BD68","#F17CB0","#B2912F","#B276B2","#DECF3F","#F15854","#C08283","#dcd0c0","#E37222"],K=[];function B(t){var a=K.indexOf(t);return a<0&&(K.push(t),a=K.length-1),z[a%z.length]}var W=function(){function t(a){if(Object(A["a"])(this,t),this.config=a,this.id=a.id,this.$div=T()("#".concat(this.id)),this.$canvas=T()("<canvas>"),this.$div.append(this.$canvas),a.chartData?this.chartData=a.chartData:this.chartData=X(),N.a.has(this.config,"fn")&&(this.chartData.options.legend.display=!1),this.keys=[],this.fn=null,this.chart=new D.a(this.$canvas,this.chartData),console.log(this.config,N.a.get(this.config,"ylabel"),N.a.has(this.config,"ylabel")),this.setTitle(N.a.get(this.config,"title","")),this.setXLabel(N.a.get(this.config,"xlabel","")),this.setYLabel(N.a.get(this.config,"ylabel","")),N.a.has(this.config,"keys")){var e,i=Object(I["a"])(this.config.keys);try{for(i.s();!(e=i.n()).done;){var r=e.value;this.addDataset(r)}}catch(n){i.e(n)}finally{i.f()}}N.a.has(this.config,"fn")&&(this.fn=this.config.fn,this.addDataset(this.config.fn))}return Object(M["a"])(t,[{key:"getDatasets",value:function(){return this.chartData.data.datasets}},{key:"getChartOptions",value:function(){return this.chartData.options}},{key:"addDataset",value:function(t,a,e){var i=this.getDatasets(),r=[];if(a&&e)for(var n=0;n<a.length;n+=1)r.push({x:a[n],y:e[n]});var s=i.length,o={label:t,data:r,fill:!1,backgroundColor:B(s),borderColor:B(s),showLine:!0,pointRadius:0,borderWidth:2};return i.push(o),this.keys.push(t),this.chart.update(),s}},{key:"updateDataset",value:function(t,a,e){for(var i=[],r=0;r<a.length;r+=1)i.push({x:a[r],y:e[r]});var n=this.keys.indexOf(t),s=this.getDatasets()[n];s.data=i,this.chart.update()}},{key:"setTitle",value:function(t){var a=this.getChartOptions();a.title.text=t}},{key:"setXLabel",value:function(t){var a=this.getChartOptions();a.scales.xAxes[0].scaleLabel.labelString=t}},{key:"setYLabel",value:function(t){var a=this.getChartOptions();a.scales.yAxes[0].scaleLabel.labelString=t}}]),t}(),U=function(){function t(a){Object(A["a"])(this,t),this.chartWidgets={},this.$div=T()("#".concat(a)).empty()}return Object(M["a"])(t,[{key:"addChart",value:function(t){N.a.has(t,"markdown")&&this.$div.append(T()("<div>").addClass("narrow-column").append(H.render(t.markdown))),this.$div.append(T()("<div>").attr("id",t.id).addClass("chart"));var a=new W(t);this.chartWidgets[t.id]=a}},{key:"updateChart",value:function(t,a,e,i){this.chartWidgets[t].updateDataset(a,e,i)}},{key:"updateFromModel",value:function(t){var a,e=t.times,i=Object(I["a"])(N.a.values(this.chartWidgets));try{for(i.s();!(a=i.n()).done;){var r=a.value;if(r.fn){var n=r.config.xlims,s=n[0],o=n[1],l=(o-s)/100,c=N.a.range(s,o,l),u=N.a.map(c,t.fn[r.fn]);this.updateChart(r.id,r.fn,c,u)}else{var h,p=Object(I["a"])(r.keys);try{for(p.s();!(h=p.n()).done;){var d=h.value;if(d in t.solution){var m=t.solution[d];this.updateChart(r.id,d,e,m)}}}catch(v){p.e(v)}finally{p.f()}}}}catch(v){i.e(v)}finally{i.f()}}}]),t}(),q=e("262e"),J=e("2caf"),Y=(e("45fc"),e("d0ad")),Q=e.n(Y);function Z(t,a,e,i){var r=a-i;return function(a){return r*Math.exp(e*(a-t)/r)+i}}var tt=function(){function t(a){Object(A["a"])(this,t),this.param=N.a.assign({},a),this.var={},this.solution={},this.auxVar={},this.dVar={},this.times=[],this.fn={},this.dt=1,this.yCutoff=1e10}return Object(M["a"])(t,[{key:"getGuiParams",value:function(){}},{key:"importGuiParams",value:function(t){var a,e=Object(I["a"])(t);try{for(e.s();!(a=e.n()).done;){var i=a.value;"key"in i&&"value"in i&&(this.param[i.key]=parseFloat(i.value))}}catch(r){e.e(r)}finally{e.f()}}},{key:"getCharts",value:function(){}},{key:"initializeVars",value:function(){}},{key:"resetSolutions",value:function(){var t,a=Object(I["a"])(N.a.values(this.solution));try{for(a.s();!(t=a.n()).done;){var e=t.value;e.length=0}}catch(i){a.e(i)}finally{a.f()}}},{key:"getVec",value:function(){var t,a=[],e=Object(I["a"])(this.varKeys);try{for(e.s();!(t=e.n()).done;){var i=t.value;a.push(this.var[i])}}catch(r){e.e(r)}finally{e.f()}return a}},{key:"setVec",value:function(t){for(var a=0;a<t.length;a+=1)this.var[this.varKeys[a]]=t[a]}},{key:"getDVec",value:function(t){this.setVec(t),this.calcAuxVars(),this.calcDVars();var a,e=[],i=Object(I["a"])(this.varKeys);try{for(i.s();!(a=i.n()).done;){var r=a.value;e.push(this.dVar[r])}}catch(n){i.e(n)}finally{i.f()}return e}},{key:"calcAuxVars",value:function(){}},{key:"calcDVars",value:function(){}},{key:"integrateDtWithRungeKutta",value:function(){var t=this;this.integrator=new Q.a.System,this.integrator.setStart(0),this.integrator.setStop(this.dt),this.integrator.setInitX(this.getVec()),this.integrator.setFn((function(a){return t.getDVec(a)})),this.integrator.solve(),this.status=this.integrator.getStatus(),this.setVec(this.integrator.newX),this.calcAuxVars()}},{key:"pushToSolution",value:function(t){var a,e=Object(I["a"])(N.a.keys(t));try{for(e.s();!(a=e.n()).done;){var i=a.value;i in this.solution||(this.solution[i]=[]),isFinite(t[i])?this.solution[i].push(t[i]):this.solution[i].push(null)}}catch(r){e.e(r)}finally{e.f()}}},{key:"preRunCheck",value:function(){}},{key:"run",value:function(){var t=this;this.initializeVars(),this.calcAuxVars(),this.calcDVars(),this.resetSolutions(),this.times=N.a.range(0,this.param.time,this.dt),this.varKeys=N.a.keys(this.dVar),this.preRunCheck();var a,e=Object(I["a"])(this.times);try{for(e.s();!(a=e.n()).done;){var i=a.value;if(this.integrateDtWithRungeKutta(i,this.dt),this.pushToSolution(this.var),this.pushToSolution(this.auxVar),N.a.some(N.a.values(this.var),(function(a){return a>t.yCutoff})))break}}catch(r){e.e(r)}finally{e.f()}}}]),t}();function at(t,a,e){return a*t/(1-Math.pow(1+a,-e))}var et=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(t){var i;Object(A["a"])(this,e);var r={initialProperty:6e5,deposit:15e4,interestRate:.05,mortgageLength:30,propertyGrowthRate:.045,initialRentPerMonth:2e3,rentInflationRate:.015,fundGrowthRate:6};return i=a.call(this,t),i.param=N.a.assign(r,t),i.dt=1,i}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.param.time=this.param.mortgageLength;var t=this.param.initialProperty-this.param.deposit;this.param.mortgagePayment=at(t,this.param.interestRate,this.param.mortgageLength),this.var.property=this.param.initialProperty,this.var.principal=t,this.var.totalInterest=0,this.var.fund=this.param.deposit,this.var.rent=12*this.param.initialRentPerMonth,this.var.totalRent=0,this.var.totalPaidForFundAndRent=this.param.deposit,this.var.totalPaidForPropertyAndInterest=this.param.deposit}},{key:"calcAuxVars",value:function(){this.auxVar.interest=this.param.interestRate*this.var.principal,this.auxVar.fundPayment=this.param.mortgagePayment-this.var.rent,this.auxVar.fundPayment<0&&(this.auxVar.fundPayment=0),this.auxVar.interestPerMonth=this.auxVar.interest/12,this.auxVar.mortgagePaymentPerMonth=this.param.mortgagePayment/12,this.auxVar.rentPerMonth=this.var.rent/12,this.auxVar.fundPaymentPerMonth=this.auxVar.fundPayment/12,this.auxVar.propertyProfit=this.var.property-this.param.deposit-this.var.principal-this.var.totalInterest,this.auxVar.fundProfit=this.var.fund-this.param.deposit-this.var.totalRent}},{key:"calcDVars",value:function(){this.dVar.totalInterest=this.auxVar.interest,this.dVar.property=this.param.propertyGrowthRate*this.var.property,this.var.principal>=0?this.dVar.principal=-(this.param.mortgagePayment-this.auxVar.interest):this.dVar.principal=0,this.dVar.totalPaidForPropertyAndInterest=this.param.mortgagePayment,this.dVar.rent=this.param.rentInflationRate*this.var.rent,this.dVar.totalRent=this.var.rent,this.dVar.fund=this.param.fundGrowthRate*this.var.fund+this.auxVar.fundPayment,this.dVar.totalPaidForFundAndRent=this.auxVar.fundPayment+this.var.rent}},{key:"getGuiParams",value:function(){for(var t=[{key:"deposit",value:15e4,interval:1e3,max:15e5},{comment:!0,key:"property parameters"},{key:"initialProperty",value:6e5,interval:1e4,max:15e5},{key:"propertyGrowthRate",value:.045,interval:.001,max:.18},{comment:!0,key:"morgtage parameters"},{key:"mortgageLength",value:30,interval:1,max:100},{key:"interestRate",value:.05,interval:.001,max:.18},{comment:!0,key:"investment fund parameters"},{key:"fundGrowthRate",value:.06,interval:.001,max:.18},{comment:!0,key:"rent parameters"},{key:"rentInflationRate",value:.015,interval:.001,max:.18},{key:"initialRentPerMonth",value:2e3,interval:100,max:15e3}],a=0,e=t;a<e.length;a++){var i=e[a];i.label=N.a.startCase(i.key)}return t}},{key:"getCharts",value:function(){for(var t=[{title:"Property",id:"property-chart",markdown:"\nThere's that proverb which says rent money is dead money. But interest\nrepayments for a property is also dead money. Maybe that money could\nhave be better invested in a managed fund.\n\n\nSo what is better in the long run - investing in property or investing\nin managed funds?\n\n# Property\n\nThe problem is that it's hard to visualize interest repayments. So here\nwe provide a visual way to compare the difference in strategies, whilst\nallowing an exploration of assumptions of the world at large.\n\nThe first thing to do is express the changes in the property as a \ndifferential equation. Property grows as:\n\n$$\\frac{d}{dt}(property) = property*propertyGrowthRate$$\n\nNow, after we have paid off the deposit, we are left with the principal.\nFrom the principal, the interestRate and length of the mortgage,\nwe can calculate the mortgage payment per year:\n\n $$mortgagePayment =  \\frac{principal * interestRate}{1 - interestRate * (1 + interestRate)^{-years})}$$\n\nThe principal thus changes as:\n\n$$\\frac{d}{dt}(principal) = -(minimumPayment - principal * interestRate)$$\n\nFinally, the total interest is given:\n\n$$\\frac{d}{dt}(totalInterest) = principal * interestRate$$\n\n",keys:["property","totalInterest","principal","totalPaidForPropertyAndInterest","propertyProfit"]},{title:"Investment Fund",markdown:"\n# Invest Fund and Renting\n\nAn apt comparison is to compare a home-owner with a mortgage, with a\nrenter who invests in a managed fund. This way you can pit rental\npayments versus mortgage interest payments. And incorporate startup\namounts.\n\nMore importantly, you can see the return on investment, profit made on\nall payments, which should be the point of comparison. Of course, the\nfinal profitability will also depend on the costs of sale (for a\nproperty) and captial gains tax (for managed funds).\n\nThe actual result though depends very much on what you believe the\nfuture will be like (up to 30 years for mortgages). So it is important\nto see how the profit changes, when varying the four major variables\ndescribing the future:\n\n-   captial growth of the investment fund\n-   inflation which affects rental prices\n",id:"fund-chart",keys:["fund","totalRent","totalPaidForFundAndRent","fundProfit"]},{title:"Return on investment",markdown:"\n# Comparing the ROI\n\n",id:"roi-chart",keys:["propertyProfit","fundProfit","totalPaidForPropertyAndInterest","totalPaidForFundAndRent"]},{title:"Monthly Expenses",markdown:"\n# Monthly Expenses comparison\n\n",id:"monthly-chart",keys:["mortgagePaymentPerMonth","interestPerMonth","rentPerMonth","fundPaymentPerMonth"]}],a=0,e=t;a<e.length;a++){var i=e[a];i.xlabel="year"}return t}}]),e}(tt),it=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("p",{staticClass:"small mt-3 mb-1"},[t._v(" PARAMETERS ")]),t._l(t.sliders,(function(a,i){return e("div",{key:i,staticStyle:{"margin-bottom":"-10px"}},["comment"in a?e("div",{staticClass:"mt-5 text-capitalize font-italic",staticStyle:{"margin-bottom":"10px","padding-top":"20px"}},[t._v(" "+t._s(a.label)+" ")]):e("v-container",{staticClass:"d-inline-flex pa-0",attrs:{fluid:""}},[e("div",{staticClass:"flex-grow-1 pt-2"},[t._v(" "+t._s(a.label)+" "),e("v-slider",{staticStyle:{"margin-top":"-10px"},attrs:{max:a.max,step:a.interval,"hide-details":""},on:{change:function(a){return t.change()}},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"slider.value"}})],1),e("div",{staticClass:"pl-4 flex-grow-0"},[e("v-text-field",{staticClass:"pt-0",staticStyle:{width:"7em"},attrs:{type:"number",step:"any"},on:{keypress:function(a){return t.change()}},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"slider.value"}})],1)])],1)}))],2)},rt=[],nt={name:"Sliders",props:{sliders:Array,callback:Function},methods:{change:function(){this.callback()}}},st=nt,ot=e("ba0d"),lt=e("8654"),ct=Object(l["a"])(st,it,rt,!1,null,null,null),ut=ct.exports;u()(ct,{VContainer:C["a"],VSlider:ot["a"],VTextField:lt["a"]});var ht={components:{Sliders:ut},data:function(){return{title:"Property vs Fund Analyzer",sliders:[]}},watch:{sliders:{handler:function(){this.changeGraph()},deep:!0}},mounted:function(){this.model=new et,this.sliders=this.model.getGuiParams(),this.chartsContainer=new U("property-charts");var t,a=Object(I["a"])(this.model.getCharts());try{for(a.s();!(t=a.n()).done;){var e=t.value;this.chartsContainer.addChart(e)}}catch(i){a.e(i)}finally{a.f()}this.changeGraph()},methods:{changeGraph:function(){this.model.importGuiParams(this.sliders),this.model.run(),this.chartsContainer.updateFromModel(this.model)}}},pt=ht,dt=(e("8c23"),e("b0af")),mt=e("99d9"),vt=Object(l["a"])(pt,j,S,!1,null,null,null),ft=vt.exports;u()(vt,{VCard:dt["a"],VCardText:mt["a"],VCardTitle:mt["b"],VContainer:C["a"],VFlex:P["a"],VLayout:$["a"]});var yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0 pt-1",attrs:{fluid:""}},[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs4:"",md4:"",lg3:""}},[e("v-card",{staticClass:"text-sm-left text-md-left",staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-text",[e("sliders",{attrs:{sliders:t.sliders,callback:t.changeGraph}})],1)],1)],1),e("v-flex",{attrs:{xs8:"",md8:"",lg9:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-title",{staticClass:"display-1 mt-3"},[t._v(" "+t._s(t.title)+" ")]),e("v-card-text",{staticClass:"text-md-left text-lg-left text-sm-left"},[t._v(" These models represent the simplest types of models used in epidemiological modelling. "),e("div",{staticClass:"pa-3"}),e("v-select",{staticStyle:{width:"500px"},attrs:{items:t.modelNames,label:"Model Type"},on:{change:t.changeModel},model:{value:t.modelName,callback:function(a){t.modelName=a},expression:"modelName"}}),e("div",{attrs:{id:"epi-charts"}})],1)],1)],1)],1)],1)},bt=[],gt=(e("7db0"),e("b0c0"),e("96cf"),e("1da1")),xt=(e("caad"),e("2532"),e("3835")),wt=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;return Object(A["a"])(this,e),t=a.call(this),t.auxVarFlows=[],t.paramFlows=[],t.dt=1,t}return Object(M["a"])(e,[{key:"calcDVars",value:function(){var t,a=[],e=Object(I["a"])(this.auxVarFlows);try{for(e.s();!(t=e.n()).done;){var i=Object(xt["a"])(t.value,3),r=i[0],n=i[1],s=i[2],o=this.auxVar[s]*this.var[r];a.push([r,n,o])}}catch(R){e.e(R)}finally{e.f()}var l,c=Object(I["a"])(this.paramFlows);try{for(c.s();!(l=c.n()).done;){var u=Object(xt["a"])(l.value,3),h=u[0],p=u[1],d=u[2],m=this.param[d]*this.var[h];a.push([h,p,m])}}catch(R){c.e(R)}finally{c.f()}var v,f=Object(I["a"])(N.a.keys(this.dVar));try{for(f.s();!(v=f.n()).done;){var y=v.value;this.dVar[y]=0}}catch(R){f.e(R)}finally{f.f()}for(var b=0,g=a;b<g.length;b++){var x=Object(xt["a"])(g[b],3),w=x[0],k=x[1],V=x[2];this.dVar[w]-=V,this.dVar[k]+=V}}},{key:"preRunCheck",value:function(){this.calcAuxVars(),this.calcDVars();var t,a=N.a.keys(this.auxVar),e=Object(I["a"])(this.auxVarFlows);try{for(e.s();!(t=e.n()).done;){var i=t.value,r=i[2];N.a.includes(a,r)||console.log("Error: ".concat(r," of this.auxVarFlows not ")+"found in this.calcAuxVars")}}catch(u){e.e(u)}finally{e.f()}var n,s=N.a.keys(this.param),o=Object(I["a"])(this.paramFlows);try{for(o.s();!(n=o.n()).done;){var l=n.value,c=l[2];N.a.includes(s,c)||console.log("Error: ".concat(c," of this.paramFlows not ")+"found in this.param")}}catch(u){o.e(u)}finally{o.f()}}},{key:"getCharts",value:function(){var t=[{title:"COMPARTMENTS",id:"compartment-chart",keys:N.a.keys(this.var),xlabel:"days"}];return t.push({title:"RN",id:"rn-chart",keys:["rn"],xlabel:"days"}),t}}]),e}(tt),kt=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;return Object(A["a"])(this,e),t=a.call(this),t.modelType="SIR",t.name="Susceptible Infectious Recovered",t.param={time:100,initPopulation:5e4,initPrevalence:3e3,recoverRate:.1,reproductionNumber:1.5,durationInfection:10},t.var={susceptible:0,infectious:0,recovered:0},t.auxVarFlows.push(["susceptible","infectious","rateForce"]),t.paramFlows.push(["infectious","recovered","recoverRate"]),t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.param.recoverRate=1/this.param.durationInfection,this.param.contactRate=this.param.reproductionNumber*this.param.recoverRate,this.var.infectious=this.param.initPrevalence,this.var.susceptible=this.param.initPopulation-this.param.initPrevalence,this.var.recovered=0}},{key:"calcAuxVars",value:function(){this.auxVar.population=N.a.sum(N.a.values(this.var)),this.auxVar.rateForce=this.param.contactRate/this.auxVar.population*this.var.infectious,this.auxVar.rn=this.var.susceptible/this.auxVar.population*this.param.reproductionNumber}},{key:"getGuiParams",value:function(){var t=[{key:"time",value:100,max:300,interval:1,placeHolder:"",label:"Time",decimal:0},{key:"reproductionNumber",value:1.5,interval:.1,max:20,placeHolder:"",label:"R0",decimal:1},{key:"durationInfection",value:10,interval:1,max:100,placeHolder:"",label:"Infectious Period (days)",decimal:0},{key:"initPrevalence",value:3e3,max:1e5,placeHolder:"",interval:1,label:"Prevalence",decimal:0},{key:"initPopulation",value:5e4,max:1e5,interval:1,placeHolder:"",label:"Initial Population",decimal:0}];return t}}]),e}(wt),Vt=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;return Object(A["a"])(this,e),t=a.call(this),t.modelType="SIS",t.name="Susceptible Infectious Susceptible",t.param={time:100,initPopulation:5e4,initPrevalence:3e3,recoverRate:.1,reproductionNumber:1.5,durationInfection:10},t.var={susceptible:0,infectious:0},t.auxVarFlows.push(["susceptible","infectious","rateForce"]),t.paramFlows.push(["infectious","susceptible","recoverRate"]),t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.param.recoverRate=1/this.param.durationInfection,this.param.contactRate=this.param.reproductionNumber*this.param.recoverRate;var t,a=Object(I["a"])(N.a.keys(this.var));try{for(a.s();!(t=a.n()).done;){var e=t.value;this.var[e]=0}}catch(i){a.e(i)}finally{a.f()}this.var.infectious=this.param.initPrevalence,this.var.susceptible=this.param.initPopulation-this.param.initPrevalence}},{key:"calcAuxVars",value:function(){this.auxVar.population=N.a.sum(N.a.values(this.var)),this.auxVar.rateForce=this.param.contactRate/this.auxVar.population*this.var.infectious,this.auxVar.rn=this.var.susceptible/this.auxVar.population*this.param.reproductionNumber}},{key:"getGuiParams",value:function(){var t=[{key:"time",value:100,max:300,interval:1,placeHolder:"",label:"Time",decimal:0},{key:"reproductionNumber",value:1.5,max:20,interval:.1,placeHolder:"",label:"R0",decimal:1},{key:"durationInfection",value:10,interval:1,max:100,placeHolder:"",label:"Infectious Period (days)",decimal:0},{key:"initPrevalence",value:3e3,max:1e5,interval:1,placeHolder:"",label:"Prevalence",decimal:0},{key:"initPopulation",value:5e4,max:1e5,interval:1,placeHolder:"",label:"Initial Population",decimal:0}];return t}}]),e}(wt),Rt=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;return Object(A["a"])(this,e),t=a.call(this),t.modelType="SEIR",t.name="Susceptible Exposed Infections Recovered",t.param={time:100,initPopulation:5e4,period:.1,incubation:.01,caseFatality:.2,initPrevalence:5e3,reproductionNumber:4,durationInfection:10},t.var={susceptible:0,exposed:0,infectious:0,recovered:0,dead:0},t.auxVarFlows.push(["susceptible","exposed","rateForce"]),t.paramFlows.push(["exposed","infectious","incubationRate"]),t.paramFlows.push(["infectious","infectious","disDeath"]),t.paramFlows.push(["infectious","recovered","recoverRate"]),t.paramFlows.push(["infectious","dead","deathRate"]),t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.param.deathRate=this.param.caseFatality/this.param.durationInfection,this.param.recoverRate=1/this.param.durationInfection-this.param.deathRate,this.param.disDeath=-1*this.param.caseFatality*this.param.period,this.param.incubationRate=this.param.incubation,this.param.contactRate=this.param.reproductionNumber*this.param.period;var t,a=Object(I["a"])(N.a.keys(this.var));try{for(a.s();!(t=a.n()).done;){var e=t.value;this.var[e]=0}}catch(i){a.e(i)}finally{a.f()}this.var.infectious=this.param.initPrevalence,this.var.susceptible=this.param.initPopulation-this.param.initPrevalence}},{key:"calcAuxVars",value:function(){this.auxVar.population=N.a.sum(N.a.values(this.var)),this.auxVar.rateForce=this.param.contactRate/this.auxVar.population*this.var.infectious,this.auxVar.rn=this.var.susceptible/this.auxVar.population*this.param.reproductionNumber}},{key:"getGuiParams",value:function(){var t=[{key:"time",value:100,max:300,interval:1,placeHolder:"",label:"time",decimal:0},{key:"reproductionNumber",value:1.5,max:15,interval:.1,placeHolder:"",label:"R0",decimal:1},{key:"durationInfection",value:10,interval:1,max:100,placeHolder:"",label:"Infectious Period (days)",decimal:0},{key:"caseFatality",value:.2,interval:.01,max:1,placeHolder:"",label:"Case-Fatality Rate",decimal:2},{key:"initPrevalence",value:3e3,interval:1,max:1e5,placeHolder:"",label:"Prevalence",decimal:0},{key:"initPopulation",value:5e4,max:1e5,interval:1,placeHolder:"",label:"Initial Population",decimal:0}];return t}}]),e}(wt),Ct=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;return Object(A["a"])(this,e),t=a.call(this),t.modelType="SEIRS",t.name="Susceptible Exposed Infections Recovered Susceptible",t.param={time:100,initPopulation:5e4,period:.1,incubation:.01,caseFatality:.2,initPrevalence:3e3,reproductionNumber:50,immunityPeriod:50,durationInfection:10},t.var={susceptible:0,exposed:0,infectious:0,recovered:0,dead:0},t.auxVarFlows.push(["susceptible","exposed","rateForce"]),t.paramFlows.push(["exposed","infectious","incubationRate"]),t.paramFlows.push(["infectious","infectious","disDeath"]),t.paramFlows.push(["infectious","recovered","recoverRate"]),t.paramFlows.push(["recovered","susceptible","immunityLossRate"]),t.paramFlows.push(["infectious","dead","deathRate"]),t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.param.deathRate=this.param.caseFatality/this.param.durationInfection,this.param.recoverRate=1/this.param.durationInfection-this.param.deathRate,this.param.incubationRate=this.param.incubation,this.param.disDeath=-1*this.param.caseFatality*this.param.period,this.param.contactRate=this.param.reproductionNumber*this.param.period,this.param.immunityLossRate=1/this.param.immunityPeriod;var t,a=Object(I["a"])(N.a.keys(this.var));try{for(a.s();!(t=a.n()).done;){var e=t.value;this.var[e]=0}}catch(i){a.e(i)}finally{a.f()}this.var.infectious=this.param.initPrevalence,this.var.susceptible=this.param.initPopulation-this.param.initPrevalence}},{key:"calcAuxVars",value:function(){this.auxVar.population=N.a.sum(N.a.values(this.var)),this.auxVar.rateForce=this.param.contactRate/this.auxVar.population*this.var.infectious,this.auxVar.rn=this.var.susceptible/this.auxVar.population*this.param.reproductionNumber}},{key:"getGuiParams",value:function(){var t=[{key:"time",value:100,max:300,interval:1,placeHolder:"",label:"Time",decimal:0},{key:"reproductionNumber",value:1.5,interval:.1,max:20,placeHolder:"",label:"R0",decimal:1},{key:"durationInfection",value:10,interval:1,placeHolder:"",label:"Infectious Period (days)",decimal:0},{key:"caseFatality",value:.2,interval:.01,max:1,placeHolder:"",label:"Case-Fatality Rate",decimal:2},{key:"immunityPeriod",value:50,interval:1,max:300,placeHolder:"",label:"Immunity Period ",decimal:0},{key:"initPrevalence",value:3e3,max:1e5,interval:1,placeHolder:"",label:"Prevalence",decimal:0},{key:"initPopulation",value:5e4,max:1e5,interval:1,placeHolder:"",label:"Initial Population",decimal:0}];return t}}]),e}(wt),Pt=[kt,Vt,Rt,Rt,Ct],$t={components:{Sliders:ut},data:function(){return{title:"Graphing Models",sliders:[],modelName:"",modelNames:[]}},watch:{sliders:{handler:function(){this.changeGraph()},deep:!0}},mounted:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var e,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.title="Epidemiology Models",t.models=[],e=Object(I["a"])(Pt);try{for(e.s();!(i=e.n()).done;)r=i.value,t.models.push(new r)}catch(n){e.e(n)}finally{e.f()}t.modelNames=N.a.map(t.models,(function(t){return t.name})),t.modelName=t.modelNames[0],t.changeModel();case 7:case"end":return a.stop()}}),a)})))()},methods:{changeModel:function(){var t=this;this.model=N.a.find(this.models,(function(a){return a.name===t.modelName})),this.sliders=this.model.getGuiParams(),this.chartsContainer=new U("epi-charts");var a,e=Object(I["a"])(this.model.getCharts());try{for(e.s();!(a=e.n()).done;){var i=a.value;this.chartsContainer.addChart(i)}}catch(r){e.e(r)}finally{e.f()}this.changeGraph()},changeGraph:function(){this.model.importGuiParams(this.sliders),this.model.run(),this.chartsContainer.updateFromModel(this.model)}}},Ot=$t,Ft=(e("8820"),e("b974")),jt=Object(l["a"])(Ot,yt,bt,!1,null,null,null),St=jt.exports;u()(jt,{VCard:dt["a"],VCardText:mt["a"],VCardTitle:mt["b"],VContainer:C["a"],VFlex:P["a"],VLayout:$["a"],VSelect:Ft["a"]});var It=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0 pt-1",attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs4:"",md4:"",lg3:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-text",[e("sliders",{attrs:{sliders:t.sliders,callback:t.changeGraph}})],1)],1)],1),e("v-flex",{attrs:{xs8:"",md8:"",lg9:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-title",{staticClass:"display-2 mt-5"},[t._v(" "+t._s(t.title)+" ")]),e("v-card-text",[e("div",{attrs:{id:"econ-charts"}})])],1)],1)],1)],1)},At=[],Mt=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;Object(A["a"])(this,e);var i={time:300,initialEmployedFraction:.9,productivityGrowthRate:.015,populationGrowthRate:.035,depreciationRate:.02,capitalAccelerator:2,baseInterestRate:.05,interestRateMultiplier:0};return t=a.call(this,i),t.modelType="Keen-Minsky Financial Instability Model",t.dt=.1,t.fn.wageChange=Z(.95,0,.5,-.01),t.fn.investmentChange=Z(.05,.05,1.75,0),t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.var.wage=.95,this.var.productivity=1,this.var.population=50,this.var.debt=0,this.var.output=this.param.initialEmployedFraction*this.var.population*this.var.productivity}},{key:"calcAuxVars",value:function(){this.auxVar.labor=this.var.output/this.var.productivity,this.auxVar.laborFraction=this.auxVar.labor/this.var.population,this.auxVar.wages=this.var.wage*this.auxVar.labor,this.auxVar.debtRatio=this.var.debt/this.var.output,this.auxVar.interestRate=this.param.baseInterestRate+this.param.interestRateMultiplier*this.auxVar.debtRatio,this.auxVar.bank=this.auxVar.interestRate*this.var.debt,this.auxVar.profit=this.var.output-this.auxVar.wages-this.auxVar.bank,this.auxVar.wageShare=this.auxVar.wages/this.var.output,this.auxVar.bankShare=this.auxVar.bank/this.var.output,this.auxVar.profitShare=1-this.auxVar.wageShare-this.auxVar.bankShare,this.auxVar.capital=this.var.output*this.param.capitalAccelerator,this.auxVar.profitRate=this.auxVar.profit/this.auxVar.capital,this.auxVar.investmentChange=this.fn.investmentChange(this.auxVar.profitRate),this.auxVar.investment=this.auxVar.investmentChange*this.var.output,this.auxVar.borrow=this.auxVar.investment-this.auxVar.profit,this.auxVar.wageChange=this.fn.wageChange(this.auxVar.laborFraction)}},{key:"calcDVars",value:function(){this.dVar.output=this.var.output*(this.auxVar.investmentChange/this.param.capitalAccelerator-this.param.depreciationRate),this.dVar.wage=this.auxVar.wageChange*this.var.wage,this.dVar.productivity=this.param.productivityGrowthRate*this.var.productivity,this.dVar.population=this.param.populationGrowthRate*this.var.population,this.dVar.debt=this.auxVar.borrow}},{key:"getGuiParams",value:function(){for(var t=[{key:"time",value:100,max:300,interval:1},{key:"initialEmployedFraction",value:.9,max:1,interval:.01},{key:"productivityGrowthRate",value:.015,max:.1,interval:.001},{key:"populationGrowthRate",value:.035,max:.2,interval:.005},{key:"capitalAccelerator",value:3,max:10,interval:.1},{key:"depreciationRate",value:.02,max:.1,interval:.001},{key:"baseInterestRate",value:.04,max:.2,interval:.01},{key:"interestRateMultiplier",value:0,max:.2,interval:.01}],a=0,e=t;a<e.length;a++){var i=e[a];N.a.has(i,"label")||(i.label=N.a.startCase(i.key))}return t}},{key:"getCharts",value:function(){return[{title:"INCOME",markdown:"\nThe Keen-Minksy model is the first attempt to model a macro-economy\nby converting basic macroeconomic identities into straight-forward\ncoupled differential equations, which are formally identical to\npopulation ecology and epidemiological models.\n\nIt takes the economic arguments originally made by Minsky about the\ntendency of capitalist to invest based on the profit rate, which will\ninduce an instability in the banking system.\n\nThis builds on the simple Goodwin model of the economy with regular\nbusiness cycles, and the Keen differential identities that translate \nMinsky intuitions into investment behavior in a simple analytical form.\n\n",id:"output-chart",keys:["wages","profit","bank","output"],xlabel:"year"},{title:"CAPITAL",markdown:"\n$$labor = \\frac{output}{productivity}$$\n\n$$output = \\frac{capital}{capitalAccelerator}$$\n\n$$\\frac{d}{dt}(capital) = investment - depreciationRate \\times capital$$\n\n$$profit = output - wages - bankIncome$$\n$$investment = investmentFunction\\left[\\frac{profit}{capital}\\right]$$\n$$borrow = investment - profit$$\n$$\\frac{d}{dt}(debt) = interestRate \\times debt + borrow$$\n$$bankIncome = interestRate \\times debt$$\n\nCombining these equations, we get a form that fits the classic population \ndynamics of the derivative of a output as a multiple of the output:\n\n$$\\frac{d}{dt}(output) = output \\times \\left( \\frac{investmentFunction\\left[\\frac{profit}{capital}\\right]}{capitalAccelerator} - depreciationRate \\right)$$\n\n$$\\frac{d}{dt}(wage) = wage \\times wageFunction \\left[ \\frac{labor}{population} \\right]$$\n\n$$\\frac{d}{dt}(productivity) = productivity \\times productivityGrowthRate$$\n\n$$\\frac{d}{dt}(population) = population \\times populationGrowthRate$$\n",id:"debt-chart",keys:["debt","capital","output"],xlabel:"year"},{title:"SHARE",id:"share-chart",keys:["wageShare","profitShare","bankShare"],xlabel:"year"},{title:"POPULATION",id:"pop-chart",keys:["population","labor"],xlabel:"year"},{title:"INVESTMENT",id:"investment-chart",keys:["profit","investment","borrow"],xlabel:"year"},{title:"WAGE-FUNCTION",id:"wagefn-chart",fn:"wageChange",xlims:[.6,1.05],ymin:0,xlabel:"Employed Fraction",ylabel:"Wage Change"},{title:"INVESTMENT-FUNCTION",id:"investfn-chart",fn:"investmentChange",xlims:[-.4,.15],ymin:0,xlabel:"Profit Rate",ylabel:"Investment Change"}]}}]),e}(tt),Gt={components:{Sliders:ut},data:function(){return{title:"",sliders:[]}},mounted:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var e,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.model=new Mt,t.title=t.model.modelType,t.sliders=t.model.getGuiParams(),t.chartsContainer=new U("econ-charts"),e=Object(I["a"])(t.model.getCharts());try{for(e.s();!(i=e.n()).done;)r=i.value,t.chartsContainer.addChart(r)}catch(n){e.e(n)}finally{e.f()}t.changeGraph();case 7:case"end":return a.stop()}}),a)})))()},methods:{changeGraph:function(){this.model.importGuiParams(this.sliders),this.model.run(),this.chartsContainer.updateFromModel(this.model)}}},Tt=Gt,_t=(e("51b1"),Object(l["a"])(Tt,It,At,!1,null,null,null)),Dt=_t.exports;u()(_t,{VCard:dt["a"],VCardText:mt["a"],VCardTitle:mt["b"],VContainer:C["a"],VFlex:P["a"],VLayout:$["a"]});var Et=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs4:"",md4:"",lg3:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-text",[e("sliders",{attrs:{sliders:t.sliders,callback:t.changeGraph}})],1)],1)],1),e("v-flex",{attrs:{xs8:"",md8:"",lg9:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-title",{staticClass:"display-1 mt-3"},[t._v(" "+t._s(t.title)+" ")]),e("v-card-text",[e("div",{attrs:{id:"demo-charts",row:"",wrap:""}})])],1)],1)],1)],1)},Nt=[],Ht=(e("6b93"),function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;Object(A["a"])(this,e);var i={time:600,maxSurplus:1,tax:1,populationGrowthRate:.02,expenditurePerCapita:.25,stateRevenueAtHalfCapacity:10,carryCapacityDiff:3};return t=a.call(this,i),t.modelType="Turchin Demographic Fiscal Model",t.dt=1,t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){var t=this;this.fn.carryCapacityFromStateRevenue=function(a){return 1+t.param.carryCapacityDiff*(a/(t.param.stateRevenueAtHalfCapacity+a))},this.var.population=.2,this.var.revenue=0}},{key:"calcAuxVars",value:function(){var t=this.var.revenue>0?this.var.revenue:0;this.auxVar.carryingCapacity=this.fn.carryCapacityFromStateRevenue(t),this.auxVar.surplus=this.param.maxSurplus*(1-this.var.population/this.auxVar.carryingCapacity)}},{key:"calcDVars",value:function(){this.dVar.population=this.param.populationGrowthRate*this.var.population*this.auxVar.surplus,this.dVar.revenue=this.param.tax*this.var.population*this.auxVar.surplus-this.param.expenditurePerCapita*this.var.population,this.var.revenue<0&&this.dVar.revenue<=0&&(this.dVar.revenue=0,this.var.revenue=0)}},{key:"getGuiParams",value:function(){for(var t=[{key:"time",max:1e3},{key:"maxSurplus",max:2},{key:"tax",max:2},{key:"populationGrowthRate",max:.1},{key:"expenditurePerCapita",max:1},{key:"stateRevenueAtHalfCapacity",max:50}],a=0,e=t;a<e.length;a++){var i=e[a];if(N.a.has(i,"label")||(i.label=N.a.startCase(i.key)),N.a.has(i,"max")&&!N.a.has(i,"interval")){var r=N.a.floor(Math.log10(i.max));i.interval=Math.pow(10,r-2)}i.value=this.param[i.key]}return t}},{key:"getCharts",value:function(){return[{title:"People",id:"people-chart",keys:["population","carryingCapacity"],xlabel:"year",markdown:"\n$$\\frac{d}{dt}population = populationGrowthRate \\times population \\times surplus $$\n"},{title:"Surplus",id:"surplus-chart",keys:["surplus"],xlabel:"year",markdown:"\n$$surplus = maxSurplus \\times \\left(  1 - \\frac{ population } { carryingCapacity } \\right) $$\n"},{title:"Revenue",id:"revenue-chart",keys:["revenue"],xlabel:"year",markdown:"\n$$\\frac{d}{dt}revenue = tax \\times population \\times surplus - expenditurePerCapita * population$$\n"},{title:"Carrying Capacity Function",id:"carry-capacity-chart",fn:"carryCapacityFromStateRevenue",xlims:[0,100],ymin:0,xlabel:"Revenue",ylabel:"Carrying Capacity",markdown:"\n$$ carryingCapacity = 1 + capacityDiff \\times \\left( \\frac{revenue}{ revenueAtHalfCapacity + revenue}  \\right)$$\n"}]}}]),e}(tt)),Lt={components:{Sliders:ut},data:function(){return{title:"",sliders:[]}},mounted:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var e,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.model=new Ht,t.title=t.model.modelType,t.sliders=t.model.getGuiParams(),t.chartsContainer=new U("demo-charts"),e=Object(I["a"])(t.model.getCharts());try{for(e.s();!(i=e.n()).done;)r=i.value,t.chartsContainer.addChart(r)}catch(n){e.e(n)}finally{e.f()}t.changeGraph();case 7:case"end":return a.stop()}}),a)})))()},methods:{changeGraph:function(){this.model.importGuiParams(this.sliders),this.model.run(),this.chartsContainer.updateFromModel(this.model)}}},Xt=Lt,zt=(e("f8ab"),Object(l["a"])(Xt,Et,Nt,!1,null,null,null)),Kt=zt.exports;u()(zt,{VCard:dt["a"],VCardText:mt["a"],VCardTitle:mt["b"],VContainer:C["a"],VFlex:P["a"],VLayout:$["a"]});var Bt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs4:"",md4:"",lg3:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-text",[e("sliders",{attrs:{sliders:t.sliders,callback:t.changeGraph}})],1)],1)],1),e("v-flex",{attrs:{xs8:"",md8:"",lg9:""}},[e("v-card",{staticStyle:{height:"calc(100vh - 48px)",overflow:"auto"}},[e("v-card-title",{staticClass:"display-1 mt-3"},[t._v(" "+t._s(t.title)+" ")]),e("v-card-text",[e("div",{attrs:{id:"ecology-charts",row:"",wrap:""}})])],1)],1)],1)],1)},Wt=[],Ut=function(t){Object(q["a"])(e,t);var a=Object(J["a"])(e);function e(){var t;Object(A["a"])(this,e);var i={time:200,initialPrey:10,initialPredator:5,preyGrowthRate:.2,predationRate:.1,digestionRate:.1,predatorDeathRate:.2};return t=a.call(this,i),t.modelType="Lokta Volterra Predator-Prey Model",t.dt=.1,t}return Object(M["a"])(e,[{key:"initializeVars",value:function(){this.var.predator=this.param.initialPrey,this.var.prey=this.param.initialPredator,console.log(this.var)}},{key:"calcDVars",value:function(){this.dVar.prey=this.var.prey*this.param.preyGrowthRate-this.param.predationRate*this.var.prey*this.var.predator,this.dVar.predator=this.param.digestionRate*this.var.prey*this.var.predator-this.var.predator*this.param.predatorDeathRate}},{key:"getGuiParams",value:function(){for(var t=[{key:"time",max:300},{key:"initialPrey",max:20},{key:"initialPredator",max:20},{key:"preyGrowthRate",max:2},{key:"predationRate",max:2},{key:"predatorDeathRate",max:2},{key:"digestionRate",max:2}],a=0,e=t;a<e.length;a++){var i=e[a];if(N.a.has(i,"label")||(i.label=N.a.startCase(i.key)),N.a.has(i,"max")&&!N.a.has(i,"interval")){var r=N.a.floor(Math.log10(i.max));i.interval=Math.pow(10,r-2)}i.value=this.param[i.key]}return t}},{key:"getCharts",value:function(){return[{title:"Ecology",id:"predator-prey-chart",keys:["predator","prey"],xlabel:"year",markdown:"\n$$\\frac{d}{dt}prey = preyGrowthRate \\times prey  - predationRate \\times prey \\times predator$$ \n\n$$\\frac{d}{dt}predator = digestionRate \\times prey \\times predator - predatorDeathRate \\times predator$$\n"}]}}]),e}(tt),qt={components:{Sliders:ut},data:function(){return{title:"",sliders:[]}},mounted:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var e,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.model=new Ut,t.title=t.model.modelType,t.sliders=t.model.getGuiParams(),t.chartsContainer=new U("ecology-charts"),e=Object(I["a"])(t.model.getCharts());try{for(e.s();!(i=e.n()).done;)r=i.value,t.chartsContainer.addChart(r)}catch(n){e.e(n)}finally{e.f()}t.changeGraph();case 7:case"end":return a.stop()}}),a)})))()},methods:{changeGraph:function(){this.model.importGuiParams(this.sliders),this.model.run(),this.chartsContainer.updateFromModel(this.model)}}},Jt=qt,Yt=(e("075d"),Object(l["a"])(Jt,Bt,Wt,!1,null,null,null)),Qt=Yt.exports;u()(Yt,{VCard:dt["a"],VCardText:mt["a"],VCardTitle:mt["b"],VContainer:C["a"],VFlex:P["a"],VLayout:$["a"]}),i["a"].use(x["a"]);var Zt=[{path:"/",name:"Home",component:F},{path:"/property",name:"Property",component:ft},{path:"/ecology",name:"Ecology",component:Qt},{path:"/state",name:"State",component:Kt},{path:"/epi",name:"Epi",component:St},{path:"/econ",name:"Econ",component:Dt}],ta=new x["a"]({routes:Zt}),aa=ta,ea=e("2f62");i["a"].use(ea["a"]);var ia=new ea["a"].Store({state:{},mutations:{},actions:{},modules:{}}),ra=e("f309");i["a"].use(ra["a"]);var na=new ra["a"]({});i["a"].config.productionTip=!1,new i["a"]({router:aa,store:ia,vuetify:na,render:function(t){return t(g)}}).$mount("#app")},8656:function(t,a,e){},8820:function(t,a,e){"use strict";var i=e("c9a2"),r=e.n(i);r.a},"8c23":function(t,a,e){"use strict";var i=e("07c1"),r=e.n(i);r.a},c9a2:function(t,a,e){},d0ad:function(t,a,e){e("fb6a");var i=e("34eb")("rk45");a.System=function(){this.x0=null,this.fn=null,this.newX=null,this.h=.1,this.tol=1e-5,this.start=0,this.stop=1,this.R=null,this.delta=null,this.count=0,this.maxCount=2048,this.status={success:!1,state:"init",message:null}},a.System.prototype={setInitX:function(t){return this.x0=t},setFn:function(t){return this.fn=t},setStart:function(t){return this.start=t},setStop:function(t){return this.stop=t},setH:function(t){return this.h=t},setTol:function(t){return this.tol=t},setMaxCount:function(t){return this.maxCount=t},getStatus:function(){return this.status},checkSetUp:function(){return this.start>=this.stop?(this.status.state="error",this.start==this.stop?this.status.message="Stop time same as start time.":this.status.message="Stop time is less than start time.",this.status.state):this.h<=0?(this.status.state="error",0==this.h?this.status.message="h is zero but must be a positive number.":this.status.message="h is less than zero but must be a positive number.",this.status.state):"ok"},computeK:function(t){for(var a=t,e=this.newX.slice(),i=this.x0.length,r=new Array(i),n=this.fn(a,e),s=0;s<i;s++)r[s]=new Array(6),r[s][0]=this.h*n[s];a=t+this.h/4;for(var o=0;o<i;o++)e[o]=this.newX[o]+r[o][0]/4;for(var l=0;l<i;l++)r[l][1]=this.h*n[l];a=t+3*this.h/8;for(var c=0;c<i;c++)e[c]=this.newX[c]+(3*r[c][0]+9*r[c][1])/32;for(var u=0;u<i;u++)r[u][2]=this.h*n[u];a=t+12*this.h/13;for(var h=0;h<i;h++)e[h]=this.newX[h]+(1932*r[h][0]-7200*r[h][1]+7296*r[h][2])/2197;for(var p=0;p<i;p++)r[p][3]=this.h*n[p];a=t+this.h;for(var d=0;d<i;d++)e[d]=this.newX[d]+439*r[d][0]/216-8*r[d][1]+3680*r[d][2]/513-845*r[d][3]/4104;for(var m=0;m<i;m++)r[m][4]=this.h*n[m];a=t+this.h/2;for(var v=0;v<i;v++)e[v]=this.newX[v]-8*r[v][0]/27+2*r[v][1]-3544*r[v][2]/2565+1859*r[v][3]/4104-11*r[v][4]/40;for(var f=0;f<i;f++)r[f][5]=this.h*n[f];return r},solve:function(){if("ok"==this.checkSetUp()){var t=this.x0.length,a=this.start;this.newX=new Array(t),this.newX=this.x0,this.R=new Array(t),this.delta=new Array(t),this.count=0;while(a<this.stop){i("t: "+a+", newX: "+this.newX);for(var e=this.computeK(a),r=0;r<e.length;r++)i("k["+r+"]: "+e[r]);for(var n=0;n<t;n++)this.R[n]=Math.abs(e[n][0]/360-128*e[n][2]/4275-2197*e[n][3]/75240+e[n][4]/50+2*e[n][5]/55),this.R[n]=this.R[n]/this.h,this.delta[n]=.84*Math.pow(this.tol/this.R[n],.25);if(i("delta: "+this.delta+"; min: "+Math.min.apply(null,this.delta)),Math.max.apply(null,this.R)<=this.tol){i("Good to compute!"),a+=this.h;for(var s=0;s<t;s++)this.newX[s]=this.newX[s]+(25*e[s][0]/216+1408*e[s][2]/2565+2197*e[s][3]/4104-e[s][4]/5);this.h=this.h*Math.min.apply(null,this.delta)}else i("Need to adjust step size, max R: "+Math.max.apply(null,this.R)),i("Scale factor: "+Math.min.apply(null,this.delta)),this.h=this.h*Math.min.apply(null,this.delta);if(this.h>=this.stop-a&&(this.h=this.stop-a),this.count++>this.maxCount)break}this.count++>this.maxCount?(this.status.success=!1,this.status.state="error",this.status.message="Iteration count exceeded MAX count ("+this.maxCount+")"):a>=this.stop&&(this.status.success=!0,this.status.state="complete",this.status.message="Integration completed sucessfully.")}}}},f8ab:function(t,a,e){"use strict";var i=e("8656"),r=e.n(i);r.a}});
//# sourceMappingURL=app.c12f6d12.js.map